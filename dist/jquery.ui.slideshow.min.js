/*! jQuery UI Slideshow Widget - v1.0.0 - 2012-11-10
* Copyright (c) 2012 Matt Bower; Licensed none */
(function(e){"use strict";var t=e.Widget,n=t.prototype;e.widget("ui.slideshow",{options:{loop:!1,autoplay:!1,autoplayCount:null,autoplayDelay:null,autoplayStop:"interaction",autoplayControls:!1,showPrevNext:!0,showNav:!0,firstSlide:0,easing:"swing",slideSelector:"li",transition:"toggle",transitionSpeed:"slow",navStyle:"numbers"},_create:function(){var t=this,n=t.element,r=n[0].dataset||n.data(),i={},s=0,o=0,u;e.each(["loop","showPrevNext","showNav"],function(e,t){t in r&&(i[t]=r[t]==="true"||r[t]==="",delete r[t])}),e.each(["firstSlide"],function(e,t){t in r&&(i[t]=+r[t],delete r[t])}),e.each(r,function(e,t){i[e]=t}),u=e.extend(t.options,i),n.addClass("ui-slideshow ui-slideshow-viewport"),t._slides=n.find(u.slideSelector).addClass("ui-slideshow-slide"),t._slides.find("img").each(function(e,t){s=Math.max(s,t.width),o=Math.max(o,t.height)}),t._buildViewport(s,o),u.showPrevNext&&t._buildPrevNext(),u.showNav&&t._buildIndexNav(),t._bind(),t._currentSlide=null,t._currentIndex=null,this.show(+u.firstSlide,"direct",!1)},_init:function(){},_setOption:function(t,r){switch(t){case"transition":if(!(typeof r=="string"&&r in e.ui.slideshow.transitions||e.isFunction(r)))return}n._setOption.call(this,t,r);switch(t){case"loop":this._refreshState(this._currentIndex);break;case"transition":typeof r=="string"}},_buildViewport:function(e,t){this.element.wrap('<div class="ui-slideshow-root" style="max-width:'+e+"px;height:"+t+'px;"></div>'),this.uiSlideshow=this.element.parent()},_buildPrevNext:function(){var e=this;e.uiSlideshow.append('<div class="ui-slideshow-controls"><a class="ui-slideshow-prev" href="#">Prev</a><a class="ui-slideshow-next" href="#">Next</a></div>'),e._prev=e.uiSlideshow.find(".ui-slideshow-prev"),e._next=e.uiSlideshow.find(".ui-slideshow-next")},_buildIndexNav:function(){var t=this.length(),n=[];while(t--)n.push('<li><a href="#">'+(t+1)+"</a></li>");e('<div class="ui-slideshow-nav"><ul>'+n.reverse().join("")+"</ul></div>").appendTo(this.uiSlideshow),this._nav=this.uiSlideshow.find(".ui-slideshow-nav a")},_bind:function(){var t=this;t.widget().on("click.ui-slideshow",".ui-slideshow-prev",function(n){n.preventDefault(),e(this).hasClass("ui-state-disabled")||t.prev()}).on("click.ui-slideshow",".ui-slideshow-next",function(n){n.preventDefault(),e(this).hasClass("ui-state-disabled")||t.next()}).on("click.ui-slideshow",".ui-slideshow-nav a",function(n){n.preventDefault(),e(this).hasClass("ui-state-active")||t.show(t._nav.index(this),"direct")})},_unbind:function(){this.widget().off(".ui-slideshow")},_refreshState:function(e){var t=this,n=t.options;n.showPrevNext&&(t._prev.toggleClass("ui-state-disabled",!n.loop&&e===0),t._next.toggleClass("ui-state-disabled",!n.loop&&e===t.length()-1)),n.showNav&&t._nav.filter(".ui-state-active").removeClass("ui-state-active").end().eq(e).addClass("ui-state-active")},show:function(t,n,r){var i=this,s=i.options,o=this.widget();if(!o.hasClass("ui-state-transitioning")||t!==i._currentIndex){var u=i._currentSlide,a=i._slides.eq(t),f=i._currentIndex,l=t,c;o.addClass("ui-state-transitioning"),r===!1?c=e.ui.slideshow.transitions.toggle:typeof s.transition=="string"&&s.transition in e.ui.slideshow.transitions?c=e.ui.slideshow.transitions[s.transition]:e.isFunction(s.transition)?c=s.transition:c=e.ui.slideshow.transitions.toggle,c.call(i,{slide:u,index:f},{slide:a,index:l},n,s),i._currentSlide=a,i._currentIndex=t,i._refreshState(l),o.removeClass("ui-state-transitioning")}},prev:function(){if(!this.options.loop&&this._currentIndex===0)return;this.show(this._currentIndex===0?this.length()-1:this._currentIndex-1,"prev")},next:function(){if(!this.options.loop&&this._currentIndex+1===this.length())return;this.show((this._currentIndex+1)%this.length(),"next")},widget:function(){return this.uiSlideshow},index:function(){return this._currentIndex},length:function(){return this._slides.length},destroy:function(){n.destroy.apply(this,arguments)}}),e.ui.slideshow.transitions={toggle:function(e,t,n,r){e.slide&&e.slide.removeClass("ui-state-active"),t.slide.addClass("ui-state-active")},crossfade:function(e,t,n,r){e.slide&&e.slide.fadeOut(r.transitionSpeed,r.easing),t.slide.fadeIn(r.transitionSpeed,r.easing)},slidehorz:function(t,n,r,i){var s,o;r==="next"||r==="direct"&&t.index<n.index?(s="-100%",o="100%"):(s="100%",o="-100%"),n.slide.css("left",o).show(),t.slide.animate({left:s},i.transitionSpeed,i.easing,function(){e(this).hide().css("left",null)}),n.slide.animate({left:"0"},i.transitionSpeed,i.easing)},slidevert:function(t,n,r,i){var s,o;r==="next"||r==="direct"&&t.index<n.index?(s="-100%",o="100%"):(s="100%",o="-100%"),n.slide.css("top",o).show(),t.slide.animate({top:s},i.transitionSpeed,i.easing,function(){e(this).hide().css("top",null)}),n.slide.animate({top:"0"},i.transitionSpeed,i.easing)}}})(jQuery);